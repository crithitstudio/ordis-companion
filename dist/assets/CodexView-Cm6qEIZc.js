import{r as o,i as y,e as j,j as e,B as b,f as g,X as N,h as v,k as C,l as u,C as I,m as k}from"./index-CDvsc1fC.js";import{I as w}from"./ItemDetailModal-Bapz1nTh.js";import{I as S}from"./info-B6EaX_Ci.js";import{C as z}from"./check-DN3bIsnX.js";import{P}from"./plus-EbljNcvb.js";import"./clock-Ch9FsX1L.js";const A=["all","Warframe","Primary","Secondary","Melee","Mod","Resource","Other"];function _(){const[s,n]=o.useState(""),[r,d]=o.useState("all"),[a,x]=o.useState(null),[f,p]=o.useState(null),h=o.useMemo(()=>Object.entries(y).map(([t,l])=>({path:t,name:l,category:j(t)})),[]),m=o.useMemo(()=>{let t=h;if(r!=="all"&&(t=t.filter(l=>l.category===r)),s.length>=2){const l=s.toLowerCase();t=t.filter(i=>i.name.toLowerCase().includes(l))}return t.slice(0,100)},[h,s,r]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-xl border border-cyan-900/30 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-3",children:[e.jsx(b,{size:28})," Item Codex"]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(g,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:20}),e.jsx("input",{type:"text",placeholder:"Search items... (min 2 characters)",value:s,onChange:t=>n(t.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-200 placeholder-slate-500 focus:border-cyan-500 focus:outline-none transition-colors"}),s&&e.jsx("button",{onClick:()=>n(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300","aria-label":"Clear search",children:e.jsx(N,{size:18})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:A.map(t=>e.jsx("button",{onClick:()=>d(t),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${r===t?"bg-cyan-600 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700 hover:text-slate-300"}`,children:t==="all"?"All Items":t},t))}),e.jsxs("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:[s.length<2&&r==="all"?e.jsxs("div",{className:"text-center text-slate-500 py-8",children:[e.jsx(g,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Type at least 2 characters to search, or select a category"})]}):m.length===0?e.jsx("div",{className:"text-center text-slate-500 py-8",children:e.jsx("p",{children:"No items found matching your search"})}):m.map(t=>{const l=v[t.path],i=l?C(l):null;return e.jsxs("div",{className:"bg-slate-800/30 rounded-lg border border-slate-700/50 hover:border-cyan-700/50 transition-colors",children:[e.jsxs("button",{onClick:()=>x(a===t.path?null:t.path),className:"w-full p-4 flex items-center justify-between text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i&&e.jsx("img",{src:i,alt:t.name,className:"w-10 h-10 object-contain rounded bg-slate-900",onError:c=>{c.target.style.display="none"}}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-200 font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-slate-500",children:t.category})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("a",{href:`https://wiki.warframe.com/${encodeURIComponent(t.name.replace(/ /g,"_"))}`,target:"_blank",rel:"noopener noreferrer",onClick:c=>c.stopPropagation(),className:"p-2 text-slate-400 hover:text-cyan-400 transition-colors",title:"View on Wiki",children:e.jsx(u,{size:16})}),a===t.path?e.jsx(I,{size:20}):e.jsx(k,{size:20})]})]}),a===t.path&&e.jsxs("div",{className:"px-4 pb-4 border-t border-slate-700/50 pt-3",children:[e.jsx("p",{className:"text-xs text-slate-500 font-mono break-all mb-3",children:t.path}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:c=>{c.stopPropagation(),p(t.path)},className:"flex items-center gap-2 px-3 py-2 bg-cyan-600/20 text-cyan-400 rounded-lg text-sm hover:bg-cyan-600/30 transition-colors",children:[e.jsx(S,{size:14})," View Details"]}),e.jsxs("a",{href:`https://wiki.warframe.com/${encodeURIComponent(t.name.replace(/ /g,"_"))}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-orange-600/20 text-orange-400 rounded-lg text-sm hover:bg-orange-600/30 transition-colors",children:[e.jsx(u,{size:14})," Wiki"]}),e.jsx(E,{itemName:t.name})]})]})]},t.path)}),m.length===100&&e.jsx("p",{className:"text-center text-slate-500 text-sm py-2",children:"Showing first 100 results. Refine your search for more specific results."})]})]}),e.jsx(w,{itemKey:f,onClose:()=>p(null)})]})}function E({itemName:s}){const[n,r]=o.useState(!1),d=()=>{const a=JSON.parse(localStorage.getItem("ordis-tracker")||"[]");a.find(x=>x.name===s)||(a.push({id:Date.now().toString(),name:s,category:"Item",notes:"",completed:!1,addedAt:Date.now()}),localStorage.setItem("ordis-tracker",JSON.stringify(a)),r(!0),setTimeout(()=>r(!1),2e3))};return e.jsxs("button",{onClick:a=>{a.stopPropagation(),d()},className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${n?"bg-green-600/20 text-green-400":"bg-cyan-600/20 text-cyan-400 hover:bg-cyan-600/30"}`,children:[n?e.jsx(z,{size:14}):e.jsx(P,{size:14}),n?"Added!":"Track"]})}export{_ as CodexView};
