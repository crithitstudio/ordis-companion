import{r as l,h as y,j as s,n as j,f as N,k as v}from"./index-CDvsc1fC.js";import{u as w}from"./useLocalStorage-3dmBkn_-.js";import{C as S}from"./check-DN3bIsnX.js";const C=["all","Warframes","Primary","Secondary","Melee","Sentinel","Companions","Archwing"];function E(){const[n,h]=w("ordis-mastery"),[o,u]=l.useState(""),[c,f]=l.useState("all"),r=l.useMemo(()=>{const e=[];return Object.entries(y).forEach(([t,a])=>{const i=a.category||a.type||"";["Warframes","Primary","Secondary","Melee","Sentinel","Companions","Archwing","Arch-Gun","Arch-Melee","Amp","K-Drive","Necramech"].includes(i)&&e.push({path:t,name:a.name,category:i,imageName:a.imageName||void 0,uniqueName:t})}),e.sort((t,a)=>t.name.localeCompare(a.name))},[]),x=l.useMemo(()=>{let e=r;if(c!=="all"&&(e=e.filter(t=>t.category===c)),o.length>=2){const t=o.toLowerCase();e=e.filter(a=>a.name.toLowerCase().includes(t))}return e},[r,c,o]),p=e=>{h(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},d=r.length,g=r.filter(e=>n.has(e.path)).length,m=d>0?Math.round(g/d*100):0,b=l.useMemo(()=>{const e={};return r.forEach(t=>{e[t.category]||(e[t.category]={total:0,mastered:0}),e[t.category].total++,n.has(t.path)&&e[t.category].mastered++}),e},[r,n]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{className:"bg-gradient-to-r from-cyan-900/30 to-slate-900/50 rounded-xl border border-cyan-700/30 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-3",children:[s.jsx(j,{size:28})," Mastery Progress"]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-3xl font-bold text-cyan-300",children:[m,"%"]}),s.jsxs("div",{className:"text-slate-400 text-sm",children:[g," / ",d," items"]})]})]}),s.jsx("div",{className:"h-4 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-600 to-cyan-400 transition-all duration-500",style:{width:`${m}%`},role:"progressbar","aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:Object.entries(b).slice(0,8).map(([e,t])=>s.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase",children:e}),s.jsxs("div",{className:"text-slate-200 font-bold",children:[t.mastered,"/",t.total]})]},e))})]}),s.jsxs("section",{className:"bg-slate-900/50 rounded-xl border border-slate-700/30 p-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(N,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:20}),s.jsx("input",{type:"text",placeholder:"Search items...",value:o,onChange:e=>u(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-12 pr-4 py-3 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-600"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(e=>s.jsx("button",{onClick:()=>f(e),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${c===e?"bg-cyan-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:e==="all"?"All":e},e))})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-[60vh] overflow-y-auto",children:x.slice(0,150).map(e=>{const t=n.has(e.path),a=v({uniqueName:e.path});return s.jsxs("button",{onClick:()=>p(e.path),className:`flex items-center gap-3 p-3 rounded-lg border transition-colors text-left ${t?"bg-green-900/20 border-green-600/50 hover:bg-green-900/30":"bg-slate-800/30 border-slate-700/50 hover:border-cyan-600/50"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center flex-shrink-0 ${t?"bg-green-600 border-green-600":"border-slate-500"}`,children:t&&s.jsx(S,{size:16,className:"text-white"})}),a&&s.jsx("img",{src:a,alt:"",className:"w-8 h-8 object-contain rounded",onError:i=>{i.target.style.display="none"}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`font-medium truncate ${t?"text-slate-400 line-through":"text-slate-200"}`,children:e.name}),s.jsx("div",{className:"text-xs text-slate-500",children:e.category})]})]},e.path)})}),x.length>150&&s.jsx("p",{className:"text-center text-slate-500 text-sm mt-4",children:"Showing first 150 items. Use search to find more."})]})]})}export{E as MasteryView};
