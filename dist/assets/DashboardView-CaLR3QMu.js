import{c,j as e,r as R,E as W,L as U,R as K,S as A,M as T,g as O,a as P,b as G,d as H,G as M}from"./index-CDvsc1fC.js";import{I as V}from"./ItemDetailModal-Bapz1nTh.js";import{u as q}from"./useLocalStorage-3dmBkn_-.js";import{C as B}from"./clock-Ch9FsX1L.js";import{D as J,T as Q,R as X}from"./target-ESYy3hBh.js";import{C as z}from"./check-DN3bIsnX.js";const Y=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Z=c("bell",Y);const ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],se=c("crosshair",ee);const te=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],le=c("droplets",te);const ae=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],re=c("flame",ae);const ie=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ne=c("shopping-cart",ie);const ce=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],oe=c("skull",ce);const de=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],xe=c("swords",de);const me=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],he=c("triangle-alert",me);function y({title:r,state:f,subState:p,timeLeft:v,icon:N,colorClass:w}){const d=(i=>i.includes("yellow")?"text-yellow-500":i.includes("indigo")?"text-indigo-400":i.includes("orange")?"text-orange-500":i.includes("blue")?"text-blue-400":i.includes("cyan")?"text-cyan-600":i.includes("green")?"text-green-500":i.includes("emerald")?"text-emerald-800":"text-slate-400")(w);return e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 flex items-center justify-between shadow-lg backdrop-blur-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-500 bg-gradient-to-r from-transparent to-current"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:r}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-lg font-bold ${d}`,children:f}),p&&e.jsxs("span",{className:"text-slate-500 text-sm",children:["(",p,")"]})]}),e.jsx("p",{className:"text-slate-300 text-sm mt-1 font-mono",children:v})]}),e.jsx("div",{className:`p-3 rounded-full bg-slate-900/50 ${d}`,children:N&&e.jsx(N,{size:24})})]})}function ue({worldState:r,error:f,onRetry:p}){const[v,N]=q("ordis-completed"),[w,k]=R.useState(null),d=s=>{N(t=>{const a=new Set(t),l=s.match(/^(archon|sortie)-(.+)-(\d+)$/);if(a.has(s)){if(a.delete(s),l){const[,C,$,D]=l,L=parseInt(D);for(let o=L+1;o<=3;o++)a.delete(`${C}-${$}-${o}`)}}else if(a.add(s),l){const[,C,$,D]=l,L=parseInt(D);for(let o=0;o<L;o++)a.add(`${C}-${$}-${o}`)}return a})},i=s=>v.has(s);if(f)return e.jsx(W,{title:"Connection Disrupted",message:f,onRetry:p,retryLabel:"Retry Connection"});if(!r)return e.jsx(U,{message:"ESTABLISHING LINK..."});const E=r.fissures||[],x=r.sortie,S=r.invasions||[],g=r.voidTrader,I=r.nightwave||[],b=r.archonHunt,_=r.alerts||[],n=r.darvoDeal,m=H(),j=P(),h=O(),u=G();if(!h||!j||!u||!m)return e.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center space-y-4 bg-slate-900/50 rounded-xl border border-yellow-900/30",children:[e.jsxs("div",{className:"text-yellow-500 font-bold text-lg flex items-center gap-2",children:[e.jsx(he,{size:24})," Partial Data Received"]}),e.jsx("p",{className:"text-slate-400 max-w-md",children:"The Cephalon uplink returned incomplete cycle data. The API may be updating."}),e.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg text-sm mt-2 transition-colors",children:[e.jsx(K,{size:16})," Force Refresh"]})]});const F=[...E].sort((s,t)=>t.tierNum-s.tierNum);return e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-200 mb-4 flex items-center gap-2",children:[e.jsx(B,{className:"text-cyan-400"})," Planetary Cycles"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(y,{title:"Cetus / Plains",state:h.state?.toUpperCase()||"UNKNOWN",subState:h.isDay?"Day":"Night",timeLeft:h.timeLeft,icon:h.isDay?A:T,colorClass:h.isDay?"text-yellow-500":"text-indigo-400"}),e.jsx(y,{title:"Orb Vallis",state:j.state?.toUpperCase()||"UNKNOWN",subState:j.isWarm?"Warm":"Cold",timeLeft:j.timeLeft,icon:re,colorClass:j.isWarm?"text-orange-500":"text-blue-400"}),e.jsx(y,{title:"Cambion Drift",state:u.active?.toUpperCase()||"UNKNOWN",timeLeft:u.timeLeft,icon:oe,colorClass:u.active==="fass"?"text-orange-600":"text-cyan-600"}),e.jsx(y,{title:"Earth",state:m.state?.toUpperCase()||"UNKNOWN",subState:m.isDay?"Day":"Night",timeLeft:m.timeLeft,icon:m.isDay?A:T,colorClass:m.isDay?"text-green-500":"text-emerald-800"})]})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g&&e.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-xl p-4 shadow-lg",children:[e.jsxs("h2",{className:"text-lg font-bold text-amber-400 mb-3 flex items-center gap-2",children:[e.jsx(J,{size:20})," Baro Ki'Teer"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-400",children:"Location:"}),e.jsx("span",{className:"text-slate-200 font-medium",children:g.location})]}),g.active?e.jsxs("div",{className:"bg-green-900/30 border border-green-700/50 rounded p-3 text-center",children:[e.jsx("span",{className:"text-green-400 font-bold",children:"ACTIVE NOW"}),e.jsxs("div",{className:"text-slate-400 text-sm mt-1",children:["Leaves in: ",g.endString]})]}):e.jsxs("div",{className:"bg-slate-900/50 border border-slate-700/50 rounded p-3 text-center",children:[e.jsx("span",{className:"text-slate-300",children:"Arrives in:"}),e.jsx("div",{className:"text-amber-400 font-bold text-lg",children:g.startString})]})]})]}),n&&e.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-xl p-4 shadow-lg",children:[e.jsxs("h2",{className:"text-lg font-bold text-green-400 mb-3 flex items-center gap-2",children:[e.jsx(ne,{size:20})," Darvo's Deal"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>k(n.item),className:"text-slate-200 font-medium text-lg hover:text-cyan-400 transition-colors cursor-pointer underline decoration-dotted underline-offset-4",children:n.item}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"line-through text-slate-500 flex items-center",children:[n.originalPrice,e.jsx(M,{className:"w-3 h-3 ml-0.5 inline opacity-60 text-cyan-500"})]}),e.jsxs("span",{className:"text-green-400 font-bold text-xl flex items-center gap-1",children:[n.salePrice,e.jsx(M,{className:"w-5 h-5 text-cyan-400"})]}),e.jsxs("span",{className:"bg-green-900/50 text-green-300 px-2 py-0.5 rounded text-sm font-bold",children:["-",n.discount,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-slate-400",children:[e.jsxs("span",{children:["Stock: ",n.stock-n.sold," / ",n.stock]}),e.jsx("span",{children:n.eta})]})]})]})]}),b&&e.jsxs("section",{className:"bg-slate-800/60 border border-slate-700 rounded-xl overflow-hidden shadow-lg relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-900/50 to-slate-800/80 p-4 border-b border-red-700/30 flex justify-between items-center relative z-10",children:[e.jsxs("h2",{className:"text-lg font-bold text-red-400 flex items-center gap-2",children:[e.jsx(Q,{size:20})," Archon Hunt: ",b.boss]}),e.jsxs("span",{className:"text-slate-400 text-sm font-mono",children:[b.eta," remaining"]})]}),e.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:b.missions.map((s,t)=>{const a=`archon-${b.boss}-${t}`,l=i(a);return e.jsx("div",{className:`bg-slate-900/50 p-3 rounded border transition-colors cursor-pointer ${l?"border-green-600/50 bg-green-900/10":"border-slate-700/50 hover:border-red-500/50"}`,onClick:()=>d(a),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${l?"bg-green-600 border-green-600":"border-slate-500"}`,children:l&&e.jsx(z,{size:14,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"text-red-500/80 font-bold text-xs uppercase",children:["Stage ",t+1]}),e.jsx("div",{className:`font-medium ${l?"text-slate-400 line-through":"text-slate-200"}`,children:s.missionType}),e.jsx("div",{className:`text-sm ${l?"text-slate-500":"text-slate-400"}`,children:s.node})]})]})},t)})})]}),x&&e.jsxs("section",{className:"bg-slate-800/60 border border-slate-700 rounded-xl overflow-hidden shadow-lg relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-slate-800/80 p-4 border-b border-yellow-700/30 flex justify-between items-center relative z-10",children:[e.jsxs("h2",{className:"text-lg font-bold text-yellow-500 flex items-center gap-2",children:[e.jsx(se,{size:20})," Sortie: ",x.faction]}),e.jsxs("span",{className:"text-slate-400 text-sm font-mono",children:[x.eta," remaining"]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-1 md:col-span-3 text-center mb-2",children:[e.jsx("span",{className:"text-slate-400 text-sm",children:"Boss:"}),e.jsx("span",{className:"text-slate-200 font-bold ml-2 text-lg",children:x.boss})]}),x.variants.map((s,t)=>{const a=`sortie-${x.boss}-${t}`,l=i(a);return e.jsxs("div",{className:`bg-slate-900/50 p-3 rounded border flex flex-col gap-1 relative overflow-hidden cursor-pointer transition-colors ${l?"border-green-600/50 bg-green-900/10":"border-slate-700/50 hover:border-yellow-500/50"}`,onClick:()=>d(a),children:[e.jsx("div",{className:"absolute top-0 right-0 p-1",children:e.jsxs("span",{className:"text-[10px] text-slate-600 font-mono",children:["0",t+1]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${l?"bg-green-600 border-green-600":"border-slate-500"}`,children:l&&e.jsx(z,{size:14,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"text-yellow-500/80 font-bold text-xs uppercase",children:["Mission ",t+1]}),e.jsxs("div",{className:`font-medium ${l?"text-slate-400 line-through":"text-slate-200"}`,children:[s.missionType," - ",s.node]}),e.jsx("div",{className:`text-xs italic ${l?"text-slate-500":"text-slate-400"}`,children:s.modifier})]})]})]},t)})]})})]}),I.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-200 mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"text-purple-400"})," Nightwave Challenges"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:I.slice(0,9).map(s=>{const t=i(`nightwave-${s.id}`);return e.jsx("div",{className:`bg-slate-800 p-3 rounded border cursor-pointer transition-colors ${t?"border-green-600/50 bg-green-900/10":s.isElite?"border-purple-600 hover:border-purple-400":s.isDaily?"border-blue-700 hover:border-blue-500":"border-slate-700 hover:border-slate-500"}`,onClick:()=>d(`nightwave-${s.id}`),children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-5 h-5 mt-0.5 rounded border-2 flex items-center justify-center flex-shrink-0 ${t?"bg-green-600 border-green-600":"border-slate-500"}`,children:t&&e.jsx(z,{size:14,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:`font-medium ${t?"text-slate-400 line-through":"text-slate-200"}`,children:s.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-bold ${s.isElite?"bg-purple-900/50 text-purple-300":s.isDaily?"bg-blue-900/50 text-blue-300":"bg-slate-700 text-slate-300"}`,children:s.isElite?"Elite":s.isDaily?"Daily":"Weekly"})]}),e.jsx("div",{className:`text-sm ${t?"text-slate-500":"text-slate-400"}`,children:s.description}),e.jsxs("div",{className:`text-sm mt-1 ${t?"text-slate-500":"text-slate-400"}`,children:["+",s.standing.toLocaleString()," Standing"]})]})]})},s.id)})})]}),S.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-200 mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"text-red-400"})," Active Invasions"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:S.slice(0,8).map(s=>e.jsxs("div",{className:"bg-slate-800 p-3 rounded border border-slate-700 hover:border-slate-600 transition-colors",children:[e.jsx("div",{className:"text-slate-200 font-medium mb-2",children:s.node}),e.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[e.jsx("span",{className:`font-bold ${s.attackingFaction==="Grineer"?"text-red-400":s.attackingFaction==="Corpus"?"text-blue-400":"text-green-400"}`,children:s.attackingFaction}),e.jsx("span",{className:"text-slate-500",children:"vs"}),e.jsx("span",{className:`font-bold ${s.defendingFaction==="Grineer"?"text-red-400":s.defendingFaction==="Corpus"?"text-blue-400":"text-green-400"}`,children:s.defendingFaction})]}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[e.jsx("span",{children:s.attackerReward}),e.jsx("span",{children:s.defenderReward})]}),e.jsx("div",{className:"mt-2 h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${s.progress>0?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.abs(s.progress)}%`,marginLeft:s.progress<0?"0%":`${100-s.progress}%`}})})]},s.id))})]}),_.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-200 mb-4 flex items-center gap-2",children:[e.jsx(Z,{className:"text-yellow-400"})," Active Alerts"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:_.map(s=>e.jsxs("div",{className:"bg-slate-800 p-3 rounded border border-yellow-700/30 hover:border-yellow-600/50 transition-colors",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-200 font-medium",children:s.mission}),e.jsx("span",{className:"text-xs text-slate-500 font-mono",children:s.eta})]}),e.jsx("div",{className:"text-slate-400 text-sm",children:s.node}),e.jsx("div",{className:"text-yellow-400 text-sm mt-1 font-medium",children:s.reward})]},s.id))})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-200 mb-4 flex items-center gap-2",children:[e.jsx(le,{className:"text-cyan-400"})," Active Void Fissures"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:F.slice(0,12).map(s=>e.jsxs("div",{className:"bg-slate-800 p-3 rounded border border-slate-700 flex items-center justify-between hover:border-slate-600 transition-colors",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-slate-200",children:s.tier}),e.jsx("span",{className:"text-xs text-slate-500",children:s.missionType})]}),e.jsx("div",{className:"text-slate-400 text-sm",children:s.node})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-xs text-slate-500 font-mono block",children:s.eta}),e.jsx("span",{className:`text-xs font-bold px-1.5 rounded ${s.enemy==="Corrupted"?"bg-yellow-900/30 text-yellow-200":"bg-slate-700 text-slate-300"}`,children:s.enemy})]})]},s.id))})]}),e.jsx(V,{itemKey:w,onClose:()=>k(null)})]})}export{ue as DashboardView};
